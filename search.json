[{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement codeofconduct@posit.co. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading data","title":"Analyzing results","text":"Start loading shinycannon results R load_runs(). single run, just give directory results: multiple runs, give multiple directories, optionally providing informative labels. ’m loading three runs replay script simulating 1, 4, 16 simultaneous uses: load_runs() returns tidy tibble: first three variables identify simulated session: run labels shinycannon run. user_id labels simulated user (shinycannon worker) within run. session_id uniquely identifies simulated session (script replay) within run. ?load_runs provides full description variables.","code":"df <- load_runs(\"test_sessions/demo1\") df <- load_runs(   `1 user` = \"test_sessions/demo1\",   `4 users` = \"test_sessions/demo4\",   `16 users` = \"test_sessions/demo16\" ) df #> # A tibble: 11,729 × 13 #>    run    user_id session_id iteration input_line_number event    start #>    <ord>    <int>      <int>     <int>             <int> <chr>    <dbl> #>  1 1 user       0          0         0                 1 REQ_HOME 0     #>  2 1 user       0          0         0                 2 REQ_GET  0.309 #>  3 1 user       0          0         0                 3 REQ_GET  0.316 #>  4 1 user       0          0         0                 4 REQ_GET  0.323 #>  5 1 user       0          0         0                 5 REQ_GET  0.33  #>  6 1 user       0          0         0                 6 REQ_GET  0.339 #>  7 1 user       0          0         0                 7 REQ_GET  0.351 #>  8 1 user       0          0         0                 8 REQ_GET  0.361 #>  9 1 user       0          0         0                 9 REQ_GET  0.366 #> 10 1 user       0          0         0                10 REQ_GET  0.373 #> # ℹ 11,719 more rows #> # ℹ 6 more variables: end <dbl>, time <dbl>, concurrency <dbl>, #> #   maintenance <lgl>, label <ord>, json <list>"},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"report-output","dir":"Articles","previous_headings":"","what":"Report output","title":"Analyzing results","text":"won’t generally work data directly — instead, ’ll usually start creating standalone HTML report: report contains six pages diagnostic information: sessions, session duration, event waterfall, latency, event duration, event concurrency. describe page .","code":"shinyloadtest_report(df, \"report.html\")"},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"sessions","dir":"Articles","previous_headings":"","what":"Sessions","title":"Analyzing results","text":"Sessions page displays summarises simulated sessions performed shinycannon worker. row represent one worker rectangle represents one event. width rectangle gives duration event, colour gives event type. example, following plot shows actions performed 4 workers 5 minutes (600s):  use workers, ’ll see rows. following plot shows results 16 simultaneous workers:  first thing look plot balance user waiting app (coloured rectangles) app waiting user (gray background shows ). brightly coloured plot, time user spends waiting. precise colour block also informative, five types action proceed roughly order every session: Homepage (red): browser first loads HTML homepage generated ui, representing start new simulated session. first session takes long time load, ’re probably much work start (’ll also noticed starting app ). subsequent sessions take long time, probably ui() function much work. JS/CSS (orange): browser read homepage, next requests .css .js files needed render page. rare take long time, typically ’s server “blocked” waiting computation requested another worker. Start session (green): now browser creates bi-direction line communication Shiny session using SockJS. browser uses notify Shiny user interacts input, Shiny uses tell browser update outputs. Calculate (blue): user changed input Shiny performed computation update output execute observer. Waiting (uncoloured): app waiting input; .e. user thinking next. Also note dotted vertical lines. show three major phases load test: first dotted line, warmup phase, shinycannon gradually ramps desired number workers. Next maintenance phase, number sessions held constant; whenever one replay completes, shinycannon restarts script. Finally, second dotted line, cooldown phase workers shut one time, none left run complete.. rest report focus sessions maintenance phase since represent app full load simultaneous users. maintenance period small proportion full app, ’ll need re-run simulation greater --loaded-duration-minutes value. sessions tab gives overview experimental design (sessions assigned workers), ’ll generally spend small amount time page moving session duration.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"session-duration","dir":"Articles","previous_headings":"","what":"Session duration","title":"Analyzing results","text":"Session duration page uses similar graphical conventions Session page instead one worker per row, now one session per row, time x-axis relative session start. red line shows running time original script.  plot shows us sessions completed amount time original script, suggests app can comfortably handle four simultaneous users. get different picture look performance app 16 simultaneous users:  fastest session now takes ~4 times longer original recording, ’s one session takes twice long . suggests ’ve overloaded server either need increase server resources optimise app.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"event-waterfall","dir":"Articles","previous_headings":"","what":"Event waterfall","title":"Analyzing results","text":"Event Waterfall gives precise view individual events within recording. line represents session, events running top bottom, elapsed time x-axis.  plot ’re primarily looking uniform shape. particular, want lines parallel, crossing line indicates user started user B, finished afterwards (like seeing table ordered get food first). can see problem different run, file uploaded many POST requests made.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"latency","dir":"Articles","previous_headings":"","what":"Latency","title":"Analyzing results","text":"Latency page summarises amount time spent waiting, broken total HTTP (homepage + js/css) websockets (representing calculation). Total HTTP latency plot shows long user wait see something browser. Ideally, short since server just providing static files.  variability R single threaded; Shiny performing computation another worker, can’t launch transmission static files. Maximum WebSocket latency shows much time time user spends waiting outputs updated. basically represents much time R spends computing. make faster, ’ll need make R code faster.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"event-duration","dir":"Articles","previous_headings":"","what":"Event duration","title":"Analyzing results","text":"Event Duration page helps understand variability individual events. event summarised boxplot, run x-axis time y-axis:  Since typically many events, uninteresting, report gives three ways find interesting events: Slowest maximum time. Slowest minimum time. Largest mean difference (shown one run processed). plots can help find events either slow, high variability. ’ll need backtrack underlying Shiny code think improve performance.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html","id":"event-concurrency","dir":"Articles","previous_headings":"","what":"Event concurrency","title":"Analyzing results","text":"Event Concurrency page helps understand events responded varying degrees concurrent load. simulated session represented point number concurrent processes x-axis time taken y-axis. points coloured run. run also gets line best fit, gives sense event respond increasing concurrency.  Like Event Duration, events uninteresting, report gives three ways sorting find interesting events: Largest slope, emphasises events appear respond particularly poorly increasing concurrency. Largest intercept Largest error want app handle many user possible, look events time increases steeply concurrency - places optimisation greatest impact.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"the-optimization-loop","dir":"Articles","previous_headings":"","what":"The Optimization Loop","title":"Case study: Scaling an app","text":"optimization loop general methodology approaching optimization work. Applied problem capacity optimization, area shinyloadtest helpful , steps defined : Benchmark: Pick number n, many users application must concurrently support. Simulate n users interacting application collect latency metrics. Use shinyloadtest::record_session record realistic interaction, shinycannon tool simulate n users performing recorded interaction. Analyze: Visualize interpret metrics. shinyloadtest::load_runs used part. looks like n users can supported, stop . Otherwise, go next step. Recommend: Based analysis, propose way capacity application increased. Patterns metrics can help identify change application configuration beneficial. code change, like converting app async, configuration change, like increasing number R processes allocated application Posit Connect. Optimize: Implement one recommendations benchmark . Repeat process application supports n users satisfaction.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"the-cranwhales-demo-app","dir":"Articles","previous_headings":"","what":"The cranwhales demo app","title":"Case study: Scaling an app","text":"purposes case study, ’ll pretend cranwhales app wrote ’re interested ensuring can support minimum number concurrent users. nutshell, cranwhales way visualize anonymized download statistics Posit’s 0-Cloud CRAN mirror. app’s features, see tour.  cranwhales written Joe Cheng demonstrate Shiny’s async capabilities. use ’s close typical Shiny app size scope, ’s already given optimization treatment Joe’s async case study. Joe’s case study focuses optimize step mechanics improving performance emphasis using async . , ’ll instead focus benchmark analyze steps enabled shinyloadtest shinycannon.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"deployment","dir":"Articles","previous_headings":"","what":"Deployment","title":"Case study: Scaling an app","text":"cranwhales currently deployed shinyapps.io, ’ll assume case study ’ve deployed cranwhales Posit Connect instance default runtime/scheduler settings. shinyloadtest capable benchmarking generating load apps require authentication ’ll assume deployment cranwhales accessible without authentication.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"benchmark","dir":"Articles","previous_headings":"","what":"Benchmark","title":"Case study: Scaling an app","text":"first step benchmarking, ’ll several sub-steps: Record realistic session using shinyloadtest::record_session Run shinycannon 1 user, producing directory “baseline” metric data Pick number n, number users want able use app time Run shinycannon n users, producing another directory metric data","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"record-a-session","dir":"Articles","previous_headings":"Benchmark","what":"Record a session","title":"Case study: Scaling an app","text":"First install shinyloadtest R package haven’t yet: Next, obtain “solo” URL deployed app Posit Connect. can navigating application list published content, clicking circular button top right screen, clicking “Open Solo”. open new window. Copy URL new window.  Back R console, run record_session solo URL argument: starts local web server listening http://127.0.0.1:8600/ also open new browser window URL. local web server proxy relays content Posit Connect instance, recording interactions can played back later. ’s window model imagine typical user interaction. Click around, change things, observe new outputs. 1-2 minutes. ’re done, close browser tab. notice function return R console. disk, directory started R, new file: recording.log. may also files like recording.log.post.0. complementary files created upload files use htmlwidget like DT uses HTTP POST send data. Together, files constitute recording. input shinycannon.","code":"devtools::install_github(\"rstudio/shinyloadtest\") library(shinyloadtest) record_session(\"https://rsc.example.com/content/1234/\")"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"baseline-run","dir":"Articles","previous_headings":"Benchmark","what":"Baseline run","title":"Case study: Scaling an app","text":"Now ’ve made recording, ’re ready first shinycannon run. first run, just test 1 user. generate metrics analogous experienced made recording, serve baseline subsequent runs. Note: ’s best run shinycannon machine close target machine network. don’t want Posit Connect shinycannon contend resources machine. directory recording.log* files , run shinycannon like : recording.log recording use https://rsc.example.com/content/1234/ “solo” URL target application --workers 1 means simulate one user --loaded-duration-minutes 5 means user continually “loop” recording least 5 minutes workers started. Since recording minute long, run ’ll collect metrics 5 iterations recording. --output-dir directory populate metrics run metadata. Note: command run shinycannon might different platform. alternatives, see shinycannon instructions shinycannon started, see output like following: Messages labeled [progress] status messages printed every 5 seconds run complete. Messages labeled [thread00] produced parent thread supervising run, contain information state transitions. run moves 3 states progresses: warming , maintaining, cooling . warmup cooldown periods workers gradually starting stopping. Maintenance period workers running, length governed --loaded-duration-minutes option. Note: see messages severity ERROR, run hasn’t necessarily failed, metrics produces may usable. investigate error re-run. --debug flag result creation debug.log file output directory, may useful debugging can become large quickly.","code":"shinycannon recording.log https://rsc.example.com/content/1234/ --workers 1 --loaded-duration-minutes 5 --output-dir run1 2018-08-31 00:22:11.009 INFO [progress] - Running: 0, Failed: 0, Done: 0 2018-08-31 00:22:11.010 INFO [thread00] - Waiting for warmup to complete 2018-08-31 00:22:11.011 INFO [thread01] - Warming up 2018-08-31 00:22:11.011 INFO [thread00] - Maintaining for 5 minutes (300000 ms) 2018-08-31 00:22:16.010 INFO [progress] - Running: 1, Failed: 0, Done: 0 2018-08-31 00:22:21.011 INFO [progress] - Running: 1, Failed: 0, Done: 0"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"comparison-run","dir":"Articles","previous_headings":"Benchmark","what":"Comparison run","title":"Case study: Scaling an app","text":"Now baseline metrics, conduct ambitious run contrast. Perhaps organization can expect 5 people use cranwhales time, simulate possibility ’ll run shinycannon --workers 5: Load testing can useful even target number small, like 5.","code":"shinycannon recording.log https://rsc.example.com/content/1234/ --workers 5 --loaded-duration-minutes 5 --output-dir run5"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"analyze","dir":"Articles","previous_headings":"","what":"Analyze","title":"Case study: Scaling an app","text":"point two runs worth metrics run1 run5 output directories. Let’s get back R console process data dataframe: data tidy data frame, can generate HTML report: open report1.html browser, ’ll see something like :  don’t want generate report , can view example : case_study_report1.html ’s lot take . ’re interested meaning everything see, check analyzing load test logs vignette. now, let’s focus “Session Duration” tab. ’ll notice tab bar top page lets quickly toggle Run 1 Run 2 session durations. :  plot, time X axis sessions stacked atop one another Y axis. first plot, see 4 sessions, one completes roughly around red line. red line denotes length recording. , 1 worker run, sessions seem take roughly long us record. indicates us experience using application 4 sessions similar one experienced making recording. second plot, see 12 sessions stacked, slowest one took roughly twice long play us record. Many others also took significantly longer. indicates us significant decrease responsiveness application number concurrent users increases. --workers 1 resulted 4 sessions, --workers 5 resulted 12 sessions. ? ’s worker repeated recording many times 5 minutes. , relationship workers sessions one many. target number n large, may find easier start looking Latency tab shows histograms latency page load time latency user interactions app.","code":"library(shinyloadtest) df <- load_runs(\"Run 1\" = \"run1\", \"Run 5\" = \"run5\") shinyloadtest_report(df, \"report1.html\")"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"recommend","dir":"Articles","previous_headings":"","what":"Recommend","title":"Case study: Scaling an app","text":"application doesn’t seem performed well 5 concurrent users, ’s important keep mind performance relative kind application ’re optimizing needs users. decide app slow want try improve , two courses action can consider: tune app’s Posit Connect configuration. case, easiest way improve performance 5-user case modify app’s scheduler settings, dedicating 1 process per user limiting number processes 5. improve performance application code level. Dedicating resources app easiest way improve performance, ’s also costly resource-wise, depending ’s slow, might even help. Dedicating developer time potentially costly terms time, improves scalability app long run. Throwing hardware problem easy fix case, ’s usually strong chance ’s really easy make app dramatically faster small code changes. example, might just need work app starts instead every time reactive changes. resources learning Shiny app performance: profvis: webinar, Winston Chang demonstrates using profvis package efficiently identify improve slow paths code. rstudio::conf talk, Alan Dipert describes Shiny team’s efforts improve scalability another demo app, CRAN explorer. rstudio::conf talk, Joe Cheng describes async can used improve scalability Shiny apps. purposes case study, let’s say ’re really busy, makes sense us just crank scheduler settings now, investigate code later.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"optimize","dir":"Articles","previous_headings":"","what":"Optimize","title":"Case study: Scaling an app","text":"“Runtime” tab application’s settings Posit Connect, let’s “Specify custom settings”: Max processes: 5 Min processes: 1 Max connections per process: 1 Load factor: 0.00 settings, hypothesis user assigned R process, metrics look closer baseline previous run5","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"benchmark-again","dir":"Articles","previous_headings":"","what":"Benchmark again","title":"Case study: Scaling an app","text":"Let’s run shinycannon , output results different directory, run5-new-settings:","code":"shinycannon recording.log https://rsc.example.com/content/1234/ --workers 5 --loaded-duration-minutes 5 --output-dir run5-new-settings"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"analyze-again","dir":"Articles","previous_headings":"","what":"Analyze again","title":"Case study: Scaling an app","text":"Now, back R, can generate new report compare run5 run5-new-settings: don’t want generate report , can view example : case_study_report2.html Just hoped, performance much improved. adding processes, sessions didn’t take long run. didn’t take long run, able complete 5-minute maintenance period.","code":"library(shinyloadtest) df <- load_runs(\"Run 5\" = \"run5\", \"Run 5 new\" = \"run5-new-settings\") shinyloadtest_report(df, \"report2.html\")"},{"path":"https://rstudio.github.io/shinyloadtest/articles/case-study-scaling.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Case study: Scaling an app","text":"case study introduced optimization loop workflow demonstrated shinyloadtest shinycannon can used together assess application’s performance guide optimization. ran baseline test establish performance application single-user case, ran subsequent test see multiple concurrent users. dissatisfied multi-user performance, considered whether improve application’s performance simply allocate resources. chose allocate resources. benchmarked analyzed observed satisfactory improvement. future application needed support many users, apply process . might decide next time invest performance code instead just tweaking configuration.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/limitations-of-shinyloadtest.html","id":"deployment-limitations","dir":"Articles","previous_headings":"","what":"Deployment limitations","title":"Limitations of shinyloadtest","text":"WebSockets required: Posit Connect Shiny Server, SockJS used instead plain WebSockets order support browsers load balancers don’t support WebSockets. Even though Shiny works absence WebSocket support, shinyloadtest . shinyapps.io unsupported: Applications deployed http://www.shinyapps.io/ can’t recorded load tested. Recordings server-dependent: Recordings made particular server type — Connect, Shiny Server, local — may played back shinycannon application deployed using type server. , example, recording made application running Connect work correctly ’s run shinycannon target application deployed using different server like Shiny Server Pro.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/limitations-of-shinyloadtest.html","id":"application-limitations","dir":"Articles","previous_headings":"","what":"Application limitations","title":"Limitations of shinyloadtest","text":"Apps high latency — either geographically distant , perform long-running computations — likelier exhibit non-determinism. High latency can cause messages sent browser received server likelier interleave different ways, can cause shinycannon fail. telltale sign problem message like WS_RECV line 66: received message 30 seconds shinycannon output. One way mitigate effect high latency take time interacting inputs ’re making recording. longer amount time messages browser sends, less likely messages received server interleave different way future, shinycannon replaying . testing, ’ve observed intermittent problems selectize() input, particularly server = TRUE. information can found https://github.com/rstudio/shinyloadtest/issues/121 R Markdown documents runtime: shiny unsupported: R Markdown documents embed Shiny applications currently unsupported.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/load-testing-authenticated-apps.html","id":"recording","dir":"Articles","previous_headings":"","what":"Recording","title":"Load Testing Authenticated Apps","text":"shinyloadtest::record_session automatically detect application protected using supported authentication scheme prompt username password. record_session called within RStudio IDE session, two UI dialogs appear. ’s called R session command-line setting, prompts appear standard output. supplied username password used duration recording interact application, credentials stored recording file.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/load-testing-authenticated-apps.html","id":"load-testing","dir":"Articles","previous_headings":"","what":"Load testing","title":"Load Testing Authenticated Apps","text":"credentials stored recordings, username password Posit Connect API Key must supplied shinycannon order load test authenticated applications. shinycannon --user, --password, --connect-api-key arguments security reasons, strings appear process list. Instead, SHINYCANNON_USER, SHINYCANNON_PASS, SHINYCANNON_CONNECT_API_KEY environment variables must set. SHINYCANNON_CONNECT_API_KEY take preference SHINYCANNON_USER SHINYCANNON_PASS. Linux macOS, can disable history command starts space. using bash: using zsh:","code":"$ # Disable history for any command that starts with a space $ HISTCONTROL=ignoreboth $  export SHINYCANNON_USER=myUser $  export SHINYCANNON_PASS=myPass $ $ shinycannon recording.log https://shinyapp.example.com/ --workers 5 --loaded-duration-minutes 2 --output-dir run1 $ # Disable history for any command that starts with a space $ setopt HIST_IGNORE_SPACE $  export SHINYCANNON_CONNECT_API_KEY=$CONNECT_API_KEY $ $ shinycannon connect_recording.log https://connect.example.com/content/545/ --workers 5 --loaded-duration-minutes 2 --output-dir run2"},{"path":"https://rstudio.github.io/shinyloadtest/articles/shinycannon.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Installing and running shinycannon","text":"shinycannon requires custom installation differs platform platform.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/shinycannon.html","id":"linux","dir":"Articles","previous_headings":"Installation","what":"Linux","title":"Installing and running shinycannon","text":"Depending distribution, shinycannon can installed using one following packages.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/shinycannon.html","id":"macos","dir":"Articles","previous_headings":"Installation","what":"macOS","title":"Installing and running shinycannon","text":"Install Java Download shinycannon-1.2.0-85f280d.sh Install sudo cp shinycannon-1.2.0-85f280d.sh /usr/local/bin/shinycannon; sudo chmod +x /usr/local/bin/shinycannon Run shinycannon -h see help output, shinycannon [RECORDING-PATH] [APP-URL] generate load.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/shinycannon.html","id":"windows","dir":"Articles","previous_headings":"Installation","what":"Windows","title":"Installing and running shinycannon","text":"Install Java Download shinycannon-1.2.0-85f280d.jar directory wish run Run java -jar shinycannon-1.2.0-85f280d.jar -h see help output, java -jar shinycannon-1.2.0-85f280d.jar [RECORDING-PATH] [APP-URL] generate load.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/articles/shinycannon.html","id":"recording","dir":"Articles","previous_headings":"","what":"Recording","title":"Installing and running shinycannon","text":"shinycannon accepts two required positional arguments: [RECORDING-PATH]: path file produced shinyloadtest::record_session [APP-URL]: URL target Shiny application addition two required arguments, shinycannon accepts number optional arguments can specified flags. , interesting : --workers: number concurrent users simulate. shinycannon uses threads represent user. defaults 1. --loaded-duration-minutes: duration load test, minutes. include “warmup time”, time shinycannon spends gradually increasing number workers, “cooldown time”, time spent decreasing number workers. defaults 0, meaning workers “warmed ”, immediately begin “cool ”. Generally, ’ll want set duration greater 0. shinycannon re-run recording necessary fill time. --output-dir: Name directory create store timing information . example, run load test simulating 5 concurrent users least 2 minutes, outputting directory run1: shinycannon includes detailed help documentation explaining arguments: test, shinycannon reports progress number simulated users. result test output directory (run1 example ) includes timing information session. Inside directory ’ll find: recording.log: copy original recording used. detail.log: log output, help debug errors. ./sessions/*.csv: one file simulated user session.","code":"$ shinycannon recording.log https://shinyapp.example.com/ --workers 5 --loaded-duration-minutes 2 --output-dir run1 2018-08-29 15:06:14.191 INFO [progress] - Running: 0, Failed: 0, Done: 0 2018-08-29 15:06:14.193 INFO [thread01] - Warming up 2018-08-29 15:06:14.195 INFO [thread00] - Waiting for warmup to complete 2018-08-29 15:06:19.193 INFO [progress] - Running: 1, Failed: 0, Done: 0 2018-08-29 15:06:24.194 INFO [progress] - Running: 1, Failed: 0, Done: 0 2018-08-29 15:06:29.083 INFO [thread02] - Warming up 2018-08-29 15:06:29.195 INFO [progress] - Running: 1, Failed: 0, Done: 0 2018-08-29 15:06:34.195 INFO [progress] - Running: 2, Failed: 0, Done: 0 2018-08-29 15:06:39.196 INFO [progress] - Running: 2, Failed: 0, Done: 0 2018-08-29 15:06:43.973 INFO [thread03] - Warming up 2018-08-29 15:06:44.196 INFO [progress] - Running: 2, Failed: 0, Done: 0 2018-08-29 15:06:49.196 INFO [progress] - Running: 3, Failed: 0, Done: 0 2018-08-29 15:06:54.201 INFO [progress] - Running: 3, Failed: 0, Done: 0 2018-08-29 15:06:58.862 INFO [thread04] - Warming up 2018-08-29 15:06:59.201 INFO [progress] - Running: 3, Failed: 0, Done: 0 2018-08-29 15:07:04.201 INFO [progress] - Running: 4, Failed: 0, Done: 0 2018-08-29 15:07:09.202 INFO [progress] - Running: 4, Failed: 0, Done: 0 2018-08-29 15:07:13.751 INFO [thread05] - Warming up 2018-08-29 15:07:13.752 INFO [thread00] - Maintaining for 2 minutes (120000 ms) 2018-08-29 15:07:14.202 INFO [progress] - Running: 4, Failed: 0, Done: 0 2018-08-29 15:07:19.202 INFO [progress] - Running: 5, Failed: 0, Done: 0 2018-08-29 15:07:24.202 INFO [progress] - Running: 5, Failed: 0, Done: 0 ... shinycannon -h"},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/articles/troubleshooting-ssl.html","id":"download","dir":"Articles","previous_headings":"Add Certificate","what":"Download","title":"Troubleshooting SSL","text":"Download certificate machine running shinycannon using following command, substituting example.com hostname address target server: target host IP address, omit -servername parameter. Linux: Windows: haven’t, install Sed Windows OpenSSL","code":"openssl s_client -connect example.com:443 -servername example.com:443 < /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > public.crt openssl s_client -connect google.com:443 -servername google.com:443 < NUL | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > public.crt"},{"path":"https://rstudio.github.io/shinyloadtest/articles/troubleshooting-ssl.html","id":"find-java_home","dir":"Articles","previous_headings":"Add Certificate","what":"Find JAVA_HOME","title":"Troubleshooting SSL","text":"Determine system’s JAVA_HOME location following command: Linux, $JAVA_HOME environment variable may already set. , use instead.","code":"jrunscript -e 'java.lang.System.out.println(java.lang.System.getProperty(\"java.home\"));'"},{"path":"https://rstudio.github.io/shinyloadtest/articles/troubleshooting-ssl.html","id":"install-certificate","dir":"Articles","previous_headings":"Add Certificate","what":"Install Certificate","title":"Troubleshooting SSL","text":"Install certificate following command, substituting <JAVA_HOME> system’s JAVA_HOME value, <server_name> name choosing: Linux, must root use sudo. may prompted password. default changeit. may prompted whether trust certificate. Type yes hit enter.","code":"<JAVA_HOME>/bin/keytool -import -alias <server_name> -keystore <JAVA_HOME>/jre/lib/security/cacerts -file public.crt"},{"path":"https://rstudio.github.io/shinyloadtest/articles/troubleshooting-ssl.html","id":"try-again","dir":"Articles","previous_headings":"Add Certificate","what":"Try again","title":"Troubleshooting SSL","text":"Try shinycannon , ensuring SHINYCANNON_USER SHINYCANNON_PASS set target application requires authentication. instructions adapted following document: https://confluence.atlassian.com/kb/--import--public-ssl-certificate---jvm-867025849.html","code":""},{"path":"https://rstudio.github.io/shinyloadtest/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Barret Schloerke. Author, maintainer. Alan Dipert. Author. Barbara Borges. Author. . Copyright holder, funder.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Schloerke B, Dipert , Borges B (2026). shinyloadtest: Load Test Shiny Applications. R package version 1.2.0.9000, https://rstudio.github.io/shinyloadtest/.","code":"@Manual{,   title = {shinyloadtest: Load Test Shiny Applications},   author = {Barret Schloerke and Alan Dipert and Barbara Borges},   year = {2026},   note = {R package version 1.2.0.9000},   url = {https://rstudio.github.io/shinyloadtest/}, }"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":null,"dir":"","previous_headings":"","what":"GitHub Copilot Instructions for shinyloadtest","title":"GitHub Copilot Instructions for shinyloadtest","text":"document provides guidance working shinyloadtest package, used load testing Shiny applications.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"GitHub Copilot Instructions for shinyloadtest","text":"shinyloadtest assesses number concurrent users Shiny applications can support. provides facilities : - Recording Shiny application sessions - Playing recorded sessions target server load - Analyzing resulting performance metrics","code":""},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"install-system-dependencies","dir":"","previous_headings":"Setup Commands","what":"Install System Dependencies","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Install pandoc (required for building documentation and vignettes) sudo apt-get update sudo apt-get install -y pandoc"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"install-r-package-dependencies","dir":"","previous_headings":"Setup Commands","what":"Install R Package Dependencies","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Install from CRAN R -e \"install.packages(c('devtools', 'testthat', 'pkgdown', 'roxygen2'))\"  # Install package dependencies R -e \"devtools::install_deps(dependencies = TRUE)\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"install-shinyloadtest-from-source","dir":"","previous_headings":"Setup Commands","what":"Install shinyloadtest from Source","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Install the package (takes ~30-60 seconds) R CMD INSTALL --no-multiarch --with-keep.source ."},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"quick-development-installation","dir":"","previous_headings":"Build & Development Commands","what":"Quick Development Installation","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Update documentation and install (takes ~1-2 minutes) make devinstall"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"generate-documentation","dir":"","previous_headings":"Build & Development Commands","what":"Generate Documentation","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Update function documentation make document # Or directly: # R -e \"devtools::document()\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"build-readme","dir":"","previous_headings":"Build & Development Commands","what":"Build README","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Rebuild README.md from README.Rmd make readme"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"build-package-site","dir":"","previous_headings":"Build & Development Commands","what":"Build Package Site","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Build the full pkgdown site (takes ~3-5 minutes) # CRITICAL: This will take several minutes to complete make site"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"r-cmd-check","dir":"","previous_headings":"Build & Development Commands","what":"R CMD Check","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Run R CMD check as CRAN (takes ~2-3 minutes) # CRITICAL: Set timeout to at least 180 seconds make rcmdcheck"},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"run-full-test-suite","dir":"","previous_headings":"Testing Commands","what":"Run Full Test Suite","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Run all tests (takes ~30-60 seconds) R -e \"devtools::test()\" # Or R CMD check --no-manual ."},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"run-individual-test-file","dir":"","previous_headings":"Testing Commands","what":"Run Individual Test File","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Test a specific file R -e \"testthat::test_file('tests/testthat/test-url-construction.R')\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"run-spelling-checks","dir":"","previous_headings":"Testing Commands","what":"Run Spelling Checks","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Check spelling R -e \"spelling::spell_check_package()\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"load-package-and-run-basic-tests","dir":"","previous_headings":"Testing Commands","what":"Load Package and Run Basic Tests","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Load package and verify basic functionality R -e \"library(shinyloadtest); print(packageVersion('shinyloadtest'))\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"validation-requirements","dir":"","previous_headings":"","what":"Validation Requirements","title":"GitHub Copilot Instructions for shinyloadtest","text":"CRITICAL: committing changes, always run validation steps: Test Package Loading: Run Core Tests: Verify Documentation: Run R CMD Check (significant changes):","code":"R -e \"library(shinyloadtest)\" R -e \"devtools::test()\" R -e \"devtools::document(); devtools::check_man()\" make rcmdcheck"},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"key-directories","dir":"","previous_headings":"Repository Structure","what":"Key Directories","title":"GitHub Copilot Instructions for shinyloadtest","text":"R/: Main source code analysis.R - Analysis functions load test results plotting.R - Visualization functions shiny-recorder.R - Session recording functionality make_report.R - Report generation auth.R - Authentication handling detect.R - Application detection utilities url.R - URL manipulation utilities tests/testthat/: Test files test-url-construction.R - URL building tests test-sockjs-message.R - SockJS message handling tests test-report-gen.R - Report generation tests test-app-detection.R - App detection tests vignettes/: Package vignettes documentation Contains example apps testing data/: Package data files Demo load test data examples man/: Generated documentation (edit manually) scripts/: Utility scripts fetch_release_urls.R - Updates shinycannon download links test_sessions.R - Prepares vignette test data","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"key-files","dir":"","previous_headings":"Repository Structure","what":"Key Files","title":"GitHub Copilot Instructions for shinyloadtest","text":"DESCRIPTION: Package metadata dependencies NAMESPACE: Package exports (auto-generated roxygen2) Makefile: Build automation commands README.Rmd: Source README.md (edit , README.md) _pkgdown.yml: Configuration package website","code":""},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"adding-a-new-function","dir":"","previous_headings":"Common Development Tasks","what":"Adding a New Function","title":"GitHub Copilot Instructions for shinyloadtest","text":"Add function appropriate R file R/ Add roxygen2 documentation comments function Update documentation: make document Add tests corresponding file tests/testthat/ Run tests: R -e \"devtools::test()\" Update NEWS.md ’s user-facing change","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"working-with-load-test-data","dir":"","previous_headings":"Common Development Tasks","what":"Working with Load Test Data","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Update demo data (if you've changed data formats) make demo_data"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"preparing-vignettes","dir":"","previous_headings":"Common Development Tasks","what":"Preparing Vignettes","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Prepare vignette test sessions (takes ~2-3 minutes) make prep_vignettes"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"updating-shinycannon-urls","dir":"","previous_headings":"Common Development Tasks","what":"Updating Shinycannon URLs","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Update shinycannon release URLs (after new shinycannon release) make urls"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"testing-philosophy","dir":"","previous_headings":"","what":"Testing Philosophy","title":"GitHub Copilot Instructions for shinyloadtest","text":"Write tests exported functions Use testthat unit tests Test edge cases error conditions Mock external dependencies possible Keep tests fast focused","code":""},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"missing-dependencies","dir":"","previous_headings":"Troubleshooting","what":"Missing Dependencies","title":"GitHub Copilot Instructions for shinyloadtest","text":"encounter errors missing packages:","code":"# Install all dependencies including suggested packages R -e \"devtools::install_deps(dependencies = TRUE)\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"documentation-not-updating","dir":"","previous_headings":"Troubleshooting","what":"Documentation Not Updating","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Force documentation rebuild R -e \"devtools::clean_vignettes(); devtools::document()\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"test-failures","dir":"","previous_headings":"Troubleshooting","what":"Test Failures","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Run tests with detailed output R -e \"devtools::test(reporter = 'progress')\"  # Or run a specific test file R -e \"testthat::test_file('tests/testthat/test-FILENAME.R')\""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"build-issues","dir":"","previous_headings":"Troubleshooting","what":"Build Issues","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# Clean all generated files and rebuild make clean make devinstall"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"pandoc-not-found","dir":"","previous_headings":"Troubleshooting","what":"Pandoc Not Found","title":"GitHub Copilot Instructions for shinyloadtest","text":"","code":"# On Ubuntu/Debian sudo apt-get install pandoc  # On macOS brew install pandoc  # Or download from https://pandoc.org/installing.html"},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"style-guidelines","dir":"","previous_headings":"","what":"Style Guidelines","title":"GitHub Copilot Instructions for shinyloadtest","text":"Follow tidyverse style guide: https://style.tidyverse.org/ Use roxygen2 documentation Use snake_case function variable names Keep lines 80 characters possible Use descriptive variable names Add comments complex logic","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"dependencies","dir":"","previous_headings":"","what":"Dependencies","title":"GitHub Copilot Instructions for shinyloadtest","text":"Key package dependencies: - Core: R6, rlang, cli, jsonlite - Data: dplyr, vroom - Plotting: ggplot2, scales, svglite - Web: httpuv, websocket, curl, xml2 - Auth: getPass (suggested) System requirements: - pandoc (>= 2.2) building documentation","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"release-process","dir":"","previous_headings":"","what":"Release Process","title":"GitHub Copilot Instructions for shinyloadtest","text":"Update version DESCRIPTION Update NEWS.md changes Run full R CMD check: make rcmdcheck Update cran-comments.md Build submit CRAN","code":""},{"path":"https://rstudio.github.io/shinyloadtest/copilot-instructions.html","id":"additional-resources","dir":"","previous_headings":"","what":"Additional Resources","title":"GitHub Copilot Instructions for shinyloadtest","text":"Package website: https://rstudio.github.io/shinyloadtest/ GitHub repository: https://github.com/rstudio/shinyloadtest Issue tracker: https://github.com/rstudio/shinyloadtest/issues Shinycannon (load generation tool): https://github.com/rstudio/shinycannon","code":""},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"load-testing-shiny-applications","dir":"","previous_headings":"","what":"Load Test Shiny Applications","title":"Load Test Shiny Applications","text":"shinyloadtest package accompanying shinycannon command line tool make possible load test deployed Shiny apps. Load testing helps developers administrators estimate many users application can support. application requires tuning, load testing load test result analysis can used identify performance bottlenecks guide changes infrastructure, configuration, code. Scientific load testing helps put rest common misconception “Shiny doesn’t scale”. rstudio::conf(2018) Sean Lopp presented Scaling Shiny shows horizontally scale app handle tens thousands users.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Load Test Shiny Applications","text":"perform load test ’ll need two pieces software: shinyloadtest R package used generate recordings analyze results. install development machine install.packages(\"shinyloadtest\"). shinycannon command-line used replay recordings parallel. can install development machine testing, best results recommend installing server, preferably one application test also . See installation instructions operating specific install instructions..","code":""},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Load Test Shiny Applications","text":"process load testing Shiny application consists three steps: Record typical user session app. Replay session parallel, simulating many simultaneous users accessing app. Analyze results load test determine app performed well enough. Rinse repeat necessary. step described .","code":""},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"step-1-recording","dir":"","previous_headings":"Quick Start","what":"Step 1: Recording","title":"Load Test Shiny Applications","text":"Record session using shinyloadtest::record_session(), takes URL deployed application argument: Running function open browser displaying app. open, interact application typical user might close browser. closing app, file (recording.log default) created contains recording session. recording serve basis load test. application requires authentication, consult authentication article. Also aware certain Shiny features compatible shinyloadtest.","code":"shinyloadtest::record_session(\"https://shinyapp.example.com/\")"},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"step-2-run-the-load-test","dir":"","previous_headings":"Quick Start","what":"Step 2: Run the Load Test","title":"Load Test Shiny Applications","text":"recording hand, ’re ready run load test. actual test conducted outside R using shinycannon command-line tool. can run using system’s terminal console program, can run RStudio IDE’s terminal tab. typical run looks like : (Windows, need replace “shinycannon” java -jar shinycannon-VERSION.jar.) See shinycannon article details.","code":"shinycannon recording.log https://shinyapp.example.com/ --workers 5 --loaded-duration-minutes 2 --output-dir run1"},{"path":"https://rstudio.github.io/shinyloadtest/index.html","id":"step-3-analyze-the-results","dir":"","previous_headings":"Quick Start","what":"Step 3: Analyze the Results","title":"Load Test Shiny Applications","text":"Now can analyse results reading data shinyloadtest::load_runs() create report shinyloadtest_report(): self contained html report opened browser inspection. analysis explanation, please visit Analysing load test logs. Analysis Example","code":"df <- shinyloadtest::load_runs(\"run1\") shinyloadtest::shinyloadtest_report(df, \"run1.html\")"},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Tidy Load Test Results — load_runs","title":"Create Tidy Load Test Results — load_runs","text":"shinycannon tool creates directory log files load test. function translates one test result directories tidy data frame.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Tidy Load Test Results — load_runs","text":"","code":"load_runs(..., verbose = vroom::vroom_progress())"},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Tidy Load Test Results — load_runs","text":"... Key-value pairs key desired name test value path test result directory. verbose Whether print progress reading loadtest directories","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Tidy Load Test Results — load_runs","text":"tidy data frame test result data. row event. Columns include identifiers timing information event. variables follows run Name run session_id simulated session identifier, 0-based user_id simulated user identifier, 0-based iteration user session identifier, 0-based input_line_number recording line number associated event event type event start time event started, seconds, relative time simulated users running. end time event ended, seconds, relative time simulated users running time event duration, seconds concurrency number events happened time one maintenance whether event occurred simulated users running label event-specific text label json raw message JSON parsed JSON event","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":"output-variables","dir":"Reference","previous_headings":"","what":"Output variables","title":"Create Tidy Load Test Results — load_runs","text":"run: name recording session. session_id: incrementing integer value every session within run. Starts 0. user_id: simulated user performing work within run. Starts 0. iteration: incrementing integer value session iteration #' matching user_id. Starts 0. input_line_number: line number corresponding event recording.log file. event: web event performed. One following values: REQ_HOME: initial request load homepage REQ_GET: Request supporting file (JavaScript / CSS) REQ_TOK: Request Shiny token REQ_SINF: Request SockJS information REQ_POST: Perform POST query, uploading part file WS_RECV_BEGIN_UPLOAD: file upload requested WS_OPEN: Open new SockJS connection WS_RECV_INIT: Initialize new SockJS WS_SEND: Send information Shiny server browser WS_RECV: Send information browser Shiny server WS_CLOSE: Close SockJS connection start: Start time event relative beginning run's maintenance period end: End time event relative beginning run's maintenance period time: Total elapsed time event concurrency: number events processed concurrently maintenance: boolean determining whether simulated users executing session label: human readable event name json: parsed JSON provided recording.log file. field message exists, message_parsed field added containing parsed form SockJS's JSON message content.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/load_runs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Tidy Load Test Results — load_runs","text":"","code":"if (FALSE) { # \\dontrun{ load_runs(   `1 core` = \"results/run-1/\",   `2 cores` = \"results/run-2/\" ) } # }"},{"path":"https://rstudio.github.io/shinyloadtest/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Record a Session for Load Test — record_session","title":"Record a Session for Load Test — record_session","text":"function creates reverse proxy http://host:port (http://127.0.0.1:8600 default) intercepts records activity web browser Shiny application target_app_url.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Record a Session for Load Test — record_session","text":"","code":"record_session(   target_app_url,   host = \"127.0.0.1\",   port = 8600,   output_file = \"recording.log\",   open_browser = TRUE,   connect_api_key = NULL )"},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Record a Session for Load Test — record_session","text":"target_app_url URL deployed application. host host proxy run. Usually localhost used. port port reverse proxy. Default 8600. Change default port 8600 used another service. output_file name generated recording file. open_browser Whether open browser proxy (default=TRUE) (FALSE). connect_api_key Posit Connect api key. may useful use Sys.getenv(\"CONNECT_API_KEY\").","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Record a Session for Load Test — record_session","text":"Creates recording file can used input shinycannon command-line load generation tool.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Record a Session for Load Test — record_session","text":"default, creating reverse proxy, web browser opened automatically. interact application web browser, activity written output_file (recording.log default). shut reverse proxy complete recording, close web browser tab window. Recordings used input shinycannon command-line load-generation tool can obtained shinyloadtest documentation site.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"fileinput-dt-http-post-support","dir":"Reference","previous_headings":"","what":"fileInput/DT/HTTP POST support","title":"Record a Session for Load Test — record_session","text":"Shiny's shiny::fileInput() input uploading files, DT package, potentially packages make HTTP POST requests target application. POST requests can large, stored directly recording file. Instead, new files adjacent recording created HTTP POST request intercepted. adjacent files named recording pattern <output_file>.post.<N>, <output_file> chosen recording file name <N> number request. present, adjacent files must kept alongside recording file recording played back shinycannon tool.","code":""},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/reference/record_session.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Record a Session for Load Test — record_session","text":"","code":"if (FALSE) { # \\dontrun{ record_session(\"https://example.com/your-shiny-app/\") } # }"},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest-package.html","id":null,"dir":"Reference","previous_headings":"","what":"shinyloadtest: Load Test Shiny Applications — shinyloadtest-package","title":"shinyloadtest: Load Test Shiny Applications — shinyloadtest-package","text":"Assesses number concurrent users 'shiny' applications capable supporting, directing application changes order support higher number users. Provides facilities recording 'shiny' application sessions, playing recorded sessions target server load, analyzing resulting metrics.","code":""},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"shinyloadtest: Load Test Shiny Applications — shinyloadtest-package","text":"Maintainer: Barret Schloerke barret@posit.co (ORCID) Authors: Alan Dipert Barbara Borges contributors: Posit Software, PBC (ROR) [copyright holder, funder]","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Make shinyloadtest Report — shinyloadtest_report","title":"Make shinyloadtest Report — shinyloadtest_report","text":"Make shinyloadtest Report","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make shinyloadtest Report — shinyloadtest_report","text":"","code":"shinyloadtest_report(   df,   output = \"shinyloadtest_report.html\",   duration_cutoff = c(attr(df, \"recording_duration\"), 60)[1],   http_latency_cutoff = 5,   max_websocket_cutoff = 20,   open_browser = TRUE,   self_contained = TRUE,   verbose = TRUE )"},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make shinyloadtest Report — shinyloadtest_report","text":"df data.frame returned load_runs() output File HTML output saved duration_cutoff Cutoff value session duration plot. Defaults recording duration used simulate df 60 seconds. http_latency_cutoff Cutoff value total http latency plot max_websocket_cutoff Cutoff value max websocket latency plot open_browser Whether open created output browser self_contained Boolean determines final output self contained html file verbose Boolean determines progress output displayed","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make shinyloadtest Report — shinyloadtest_report","text":"path report, invisibly","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/shinyloadtest_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make shinyloadtest Report — shinyloadtest_report","text":"","code":"if (FALSE) { # \\dontrun{ shinyloadtest_report(slt_demo_data_1) } # }"},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Example metrics for a 1-user load test — slt_demo_data_1","title":"Example metrics for a 1-user load test — slt_demo_data_1","text":"example dataset like returned load_runs, without json variable portability. Contains latency data 1813 shinycannon events suitable passing shinyloadtest_report.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example metrics for a 1-user load test — slt_demo_data_1","text":"","code":"slt_demo_data_1"},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_1.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example metrics for a 1-user load test — slt_demo_data_1","text":"data frame 1813 rows 12 variables: run Name run session_id simulated session identifier, 0-based user_id simulated user identifier, 0-based iteration user session identifier, 0-based input_line_number recording line number associated event event type event start time event started, seconds, relative time simulated users running. end time event ended, seconds, relative time simulated users running time event duration, seconds concurrency number events happened time one maintenance whether event occurred simulated users running label event-specific text label","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_16.html","id":null,"dir":"Reference","previous_headings":"","what":"Example metrics for a 16-user load test — slt_demo_data_16","title":"Example metrics for a 16-user load test — slt_demo_data_16","text":"example dataset like returned load_runs, without json variable portability. Contains latency data 5402 shinycannon events suitable passing shinyloadtest_report.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_16.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example metrics for a 16-user load test — slt_demo_data_16","text":"","code":"slt_demo_data_16"},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_16.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example metrics for a 16-user load test — slt_demo_data_16","text":"data frame 5402 rows 12 variables: run Name run session_id simulated session identifier, 0-based user_id simulated user identifier, 0-based iteration user session identifier, 0-based input_line_number recording line number associated event event type event start time event started, seconds, relative time simulated users running. end time event ended, seconds, relative time simulated users running time event duration, seconds concurrency number events happened time one maintenance whether event occurred simulated users running label event-specific text label","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_4.html","id":null,"dir":"Reference","previous_headings":"","what":"Example metrics for a 4-user load test — slt_demo_data_4","title":"Example metrics for a 4-user load test — slt_demo_data_4","text":"example dataset like returned load_runs, without json variable portability. Contains latency data 4514 shinycannon events suitable passing shinyloadtest_report.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_4.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example metrics for a 4-user load test — slt_demo_data_4","text":"","code":"slt_demo_data_4"},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_demo_data_4.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example metrics for a 4-user load test — slt_demo_data_4","text":"data frame 4514 rows 12 variables: run Name run session_id simulated session identifier, 0-based user_id simulated user identifier, 0-based iteration user session identifier, 0-based input_line_number recording line number associated event event type event start time event started, seconds, relative time simulated users running. end time event ended, seconds, relative time simulated users running time event duration, seconds concurrency number events happened time one maintenance whether event occurred simulated users running label event-specific text label","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting outputs for shinyloadtest — slt_plot","title":"Plotting outputs for shinyloadtest — slt_plot","text":"Many different plotting routines display different loadtest information.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting outputs for shinyloadtest — slt_plot","text":"","code":"slt_time_boxplot(df, labels = NULL)  slt_time_concurrency(df, labels = NULL)  slt_waterfall(df, limits = NULL)  slt_hist_loadtimes(df, max_load_time = 5)  slt_user(df)  slt_session(df)  slt_session_duration(df, cutoff = NULL)  slt_session_latency(df)  slt_http_latency(df, cutoff = 5)  slt_websocket_latency(df, cutoff = 5)"},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting outputs for shinyloadtest — slt_plot","text":"df data frame returned load_runs labels vector labels include.  none supplied, labels used. limits passed scale_colour_gradientn max_load_time amount time users wait page load first requesting app. cutoff draw horizontal vertical line display reasonable cutoff line requests.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plotting outputs for shinyloadtest — slt_plot","text":"ggplot plot object","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Plotting outputs for shinyloadtest — slt_plot","text":"slt_time_boxplot(): Box plot load times event run slt_time_concurrency(): Time concurrency event run slt_waterfall(): Event waterfall session within run slt_hist_loadtimes(): Histogram page load times slt_user(): Gantt chart event duration user within run slt_session(): Event gantt chart user session within run slt_session_duration(): Event gantt chart fastest slowest session times within run slt_session_latency(): Stacked bar chart event duration session within run slt_http_latency(): Bar chart total HTTP latency session within run slt_websocket_latency(): Bar chart maximum calculation (websocket) latency session within run","code":""},{"path":"https://rstudio.github.io/shinyloadtest/reference/slt_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plotting outputs for shinyloadtest — slt_plot","text":"","code":"# \\donttest{ slt_user(slt_demo_data_4)  slt_session(slt_demo_data_4)  slt_session_duration(slt_demo_data_4)   slt_waterfall(slt_demo_data_4)  slt_time_boxplot(slt_demo_data_4)  slt_time_concurrency(slt_demo_data_4)   slt_session_latency(slt_demo_data_4)  slt_http_latency(slt_demo_data_4)  slt_websocket_latency(slt_demo_data_4)  slt_hist_loadtimes(slt_demo_data_4) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`.  # }"},{"path":[]},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"bug-fixes-development-version","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"shinyloadtest (development version)","text":"R CMD check NOTE undefined global variable id dplyr code (#182). Fixed #179: Waterfall plot labels now support message types {shiny} v1.9.1. remove empty Set: Updated: labels waterfall plot replace appropriate label.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"shinyloadtest-120","dir":"Changelog","previous_headings":"","what":"shinyloadtest 1.2.0","title":"shinyloadtest 1.2.0","text":"CRAN release: 2024-07-19","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"bug-fixes-1-2-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"shinyloadtest 1.2.0","text":"Fixed #168: Remove deprecated usage dplyr::summarise shinyloadtest_report. Fixed #163: gtable_trim error shinyloadtest_report newer versions ggplot2.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"shinyloadtest-110","dir":"Changelog","previous_headings":"","what":"shinyloadtest 1.1.0","title":"shinyloadtest 1.1.0","text":"CRAN release: 2021-02-11 record_session() gained new variable connect_api_key able record session RStudio Connect using Connect API key. Please see Load Testing Authenticated Apps details. Using Connect API key also requires shinycannon >= 1.1.0 (#133) load_runs() now uses vroom instead read_csv(); substantially improves performance. homepage rewritten get big picture quickly. details shinycannon moved new article. analysis vignette overhauled get plots quickly, provide advice interpretation. Plots thoroughly overhauled: Waterfall plot now shows plots maintenance period, times session relative. Sessions warmup cooldown longer shown muted colours, unfortunately relied ggplot2 bug. Instead ’re simply omitted plot. line best fit latency plots made less visually prominent, longer shows standard errors.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"shinyloadtest-101","dir":"Changelog","previous_headings":"","what":"shinyloadtest 1.0.1","title":"shinyloadtest 1.0.1","text":"CRAN release: 2020-01-09 initial release shinyloadtest CRAN.","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"bug-fixes-1-0-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"shinyloadtest 1.0.1","text":"Server type detection now tolerant invalid HTML/XML markup produced target application (#115, rstudio/shinycannon#38) Fixed bug prevented runs loaded (#124, #125)","code":""},{"path":"https://rstudio.github.io/shinyloadtest/news/index.html","id":"improvements-1-0-1","dir":"Changelog","previous_headings":"","what":"Improvements","title":"shinyloadtest 1.0.1","text":"application server type now captured recording files. corresponding enhancement made shinycannon produce warning recording server type differs target (#107), rstudio/shinycannon#36) way URLs dealt internally now robust, tolerant wider variety Shiny app deployment scenarios (#119).","code":""}]
