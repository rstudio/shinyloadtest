<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Troubleshooting SSL • shinyloadtest</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Troubleshooting SSL">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinyloadtest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/shinycannon.html">Installing and running shinycannon</a></li>
    <li><a class="dropdown-item" href="../articles/analyzing-load-test-logs.html">Analyzing results</a></li>
    <li><a class="dropdown-item" href="../articles/case-study-scaling.html">Case study: Scaling an app</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced</h6></li>
    <li><a class="dropdown-item" href="../articles/limitations-of-shinyloadtest.html">Limitations of shinyloadtest</a></li>
    <li><a class="dropdown-item" href="../articles/load-testing-authenticated-apps.html">Load Testing Authenticated Apps</a></li>
    <li><a class="dropdown-item" href="../articles/troubleshooting-ssl.html">Troubleshooting SSL</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/shinyloadtest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Troubleshooting SSL</h1>
            
            <h4 data-toc-skip class="date">2019-06-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/shinyloadtest/blob/main/vignettes/troubleshooting-ssl.Rmd" class="external-link"><code>vignettes/troubleshooting-ssl.Rmd</code></a></small>
      <div class="d-none name"><code>troubleshooting-ssl.Rmd</code></div>
    </div>

    
    
<p>If you ran <code>shinycannon</code> and received an error like the
following:</p>
<pre><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></pre>
<p>…the target server’s SSL certificate was not recognized by the
installation of Java that <code>shinycannon</code> is running in.</p>
<p>The first thing you should try is upgrading Java on your machine.
Newer versions of Java come with updated certificate stores.</p>
<p>If that doesn’t work, and if you are confident the target server is
legitimate (for example, it’s run from within your organization) you can
rectify the problem by adding the target server’s certificate to Java’s
certificate store using the steps below.</p>
<p>Otherwise, you should consider contacting the target server’s
administrator because <strong>the machine may have been
compromised</strong>.</p>
<div class="section level2">
<h2 id="add-certificate">Add Certificate<a class="anchor" aria-label="anchor" href="#add-certificate"></a>
</h2>
<div class="section level3">
<h3 id="download">Download<a class="anchor" aria-label="anchor" href="#download"></a>
</h3>
<p>Download the certificate to the machine running
<code>shinycannon</code> using the following command, substituting
<code>example.com</code> for the hostname or address of the target
server:</p>
<p><em>If the target host is an IP address, you should omit the
<code>-servername</code> parameter.</em></p>
<p><strong>Linux</strong>:</p>
<pre><code>openssl s_client -connect example.com:443 -servername example.com:443 &lt; /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; public.crt</code></pre>
<p><strong>Windows</strong>:</p>
<p><em>If you haven’t, you should install <a href="http://gnuwin32.sourceforge.net/packages/sed.htm" class="external-link">Sed for
Windows</a> and <a href="https://www.openssl.org/" class="external-link">OpenSSL</a></em></p>
<pre><code>openssl s_client -connect google.com:443 -servername google.com:443 &lt; NUL | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; public.crt</code></pre>
</div>
<div class="section level3">
<h3 id="find-java_home">Find <code>JAVA_HOME</code><a class="anchor" aria-label="anchor" href="#find-java_home"></a>
</h3>
<p>Determine your system’s JAVA_HOME location with the following
command:</p>
<p><em>On Linux, the $JAVA_HOME environment variable may already be set.
If it is, use it instead.</em></p>
<pre><code>jrunscript -e 'java.lang.System.out.println(java.lang.System.getProperty("java.home"));'</code></pre>
</div>
<div class="section level3">
<h3 id="install-certificate">Install Certificate<a class="anchor" aria-label="anchor" href="#install-certificate"></a>
</h3>
<p>Install the certificate with the following command, substituting
<code>&lt;JAVA_HOME&gt;</code> for your system’s <code>JAVA_HOME</code>
value, and <code>&lt;server_name&gt;</code> for some name of your
choosing:</p>
<p><em>On Linux, you must be root or use <code>sudo</code>.</em></p>
<pre><code>&lt;JAVA_HOME&gt;/bin/keytool -import -alias &lt;server_name&gt; -keystore &lt;JAVA_HOME&gt;/jre/lib/security/cacerts -file public.crt</code></pre>
<p>You may be prompted for a password. By default it is
<code>changeit</code>.</p>
<p>You may be prompted about whether to trust the certificate. Type
<code>yes</code> and hit enter.</p>
</div>
<div class="section level3">
<h3 id="try-again">Try again<a class="anchor" aria-label="anchor" href="#try-again"></a>
</h3>
<p>Try <code>shinycannon</code> again, ensuring
<code>SHINYCANNON_USER</code> and <code>SHINYCANNON_PASS</code> are set
if your target application requires authentication.</p>
<p><em>These instructions were adapted from the following document: <a href="https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html" class="external-link uri">https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html</a></em></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, Alan Dipert, Barbara Borges, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer>
</body>
</html>
