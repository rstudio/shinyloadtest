<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installing and running shinycannon • shinyloadtest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Installing and running shinycannon">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyloadtest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/shinycannon.html">Installing and running shinycannon</a>
    </li>
    <li>
      <a href="../articles/analyzing-load-test-logs.html">Analyzing results</a>
    </li>
    <li>
      <a href="../articles/case-study-scaling.html">Case study: Scaling an app</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/limitations-of-shinyloadtest.html">Limitations of shinyloadtest</a>
    </li>
    <li>
      <a href="../articles/load-testing-authenticated-apps.html">Load Testing Authenticated Apps</a>
    </li>
    <li>
      <a href="../articles/troubleshooting-ssl.html">Troubleshooting SSL</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/shinyloadtest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>

    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installing and running shinycannon</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/shinyloadtest/blob/main/vignettes/shinycannon.Rmd" class="external-link"><code>vignettes/shinycannon.Rmd</code></a></small>
      <div class="hidden name"><code>shinycannon.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/shinyloadtest/">shinyloadtest</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>shinycannon</code> requires custom installation that differs
from platform to platform.</p>
<div class="section level3">
<h3 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h3>
<p>Depending on your distribution, <code>shinycannon</code> can be
installed using one of the following packages.</p>
<table class="table">
<colgroup>
<col width="7%">
<col width="60%">
<col width="32%">
</colgroup>
<thead><tr class="header">
<th align="left">Distribution</th>
<th align="left">Download Link</th>
<th align="left">Install Command</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">SUSE</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-suse-85f280d.x86_64.rpm" class="external-link">shinycannon-1.2.0-suse-85f280d.x86_64.rpm</a></td>
<td align="left"><code>zypper —-no-gpg-checks install -y
shinycannon-1.2.0-suse-85f280d.x86_64.rpm</code></td>
</tr>
<tr class="even">
<td align="left">Redhat/Fedora/CentOS</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.x86_64.rpm" class="external-link">shinycannon-1.2.0-85f280d.x86_64.rpm</a></td>
<td align="left"><code>sudo yum install -y
shinycannon-1.2.0-85f280d.x86_64.rpm</code></td>
</tr>
<tr class="odd">
<td align="left">Ubuntu/Debian</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon_1.2.0-85f280d_amd64.deb" class="external-link">shinycannon_1.2.0-85f280d_amd64.deb</a></td>
<td align="left"><code>sudo dpkg -i
shinycannon_1.2.0-85f280d_amd64.deb</code></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="macos">macOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Install <a href="https://www.java.com/en/download/" class="external-link">Java</a>
</li>
<li>Download
<a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.sh" class="external-link">shinycannon-1.2.0-85f280d.sh</a>
</li>
<li>Install with
<code>sudo cp shinycannon-1.2.0-85f280d.sh /usr/local/bin/shinycannon; sudo chmod +x /usr/local/bin/shinycannon</code>
</li>
<li>Run <code>shinycannon -h</code> to see help output, or
<code>shinycannon [RECORDING-PATH] [APP-URL]</code> to generate
load.</li>
</ol>
</div>
<div class="section level3">
<h3 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Install <a href="https://www.java.com/en/download/" class="external-link">Java</a>
</li>
<li>Download
<a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.jar" class="external-link">shinycannon-1.2.0-85f280d.jar</a>
to the directory you wish to run it in</li>
<li>Run <code>java -jar shinycannon-1.2.0-85f280d.jar -h</code> to see
help output, or
<code>java -jar shinycannon-1.2.0-85f280d.jar [RECORDING-PATH] [APP-URL]</code>
to generate load.</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="recording">Recording<a class="anchor" aria-label="anchor" href="#recording"></a>
</h2>
<p><code>shinycannon</code> accepts two required positional
arguments:</p>
<ol style="list-style-type: decimal">
<li>
<strong>[RECORDING-PATH]</strong>: path to the file produced by
<code><a href="../reference/record_session.html">shinyloadtest::record_session</a></code>
</li>
<li>
<strong>[APP-URL]</strong>: URL of the target Shiny application</li>
</ol>
<p>In addition to these two required arguments, <code>shinycannon</code>
accepts a number of optional arguments that can be specified with flags.
Of these, the most interesting are:</p>
<ol style="list-style-type: decimal">
<li>
<code>--workers</code>: The number of concurrent users to simulate.
<code>shinycannon</code> uses threads to represent each user. It
defaults to 1.</li>
<li>
<code>--loaded-duration-minutes</code>: The duration of the load
test, in minutes. This does not include “warmup time”, which is the time
shinycannon spends gradually increasing the number of workers, or
“cooldown time”, which is the time spent decreasing the number of
workers. It defaults to 0, meaning that after all workers have “warmed
up”, they will immediately begin to “cool down”. Generally, you’ll want
to set this to a duration greater than 0. <code>shinycannon</code> will
re-run the recording as necessary to fill the time.</li>
<li>
<code>--output-dir</code>: Name of the directory to create and store
timing information in.</li>
</ol>
<p>As an example, to run a load test simulating 5 concurrent users for
at least 2 minutes, outputting to the directory <code>run1</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> shinycannon recording.log https://shinyapp.example.com/ <span class="at">--workers</span> 5 <span class="at">--loaded-duration-minutes</span> 2 <span class="at">--output-dir</span> run1</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.191 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 0, Failed: 0, Done: 0</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.193 INFO <span class="pp">[</span><span class="ss">thread01</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.195 INFO <span class="pp">[</span><span class="ss">thread00</span><span class="pp">]</span> <span class="at">-</span> Waiting for warmup to complete</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:19.193 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:24.194 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:29.083 INFO <span class="pp">[</span><span class="ss">thread02</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:29.195 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:34.195 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:39.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:43.973 INFO <span class="pp">[</span><span class="ss">thread03</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:44.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:49.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:54.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:58.862 INFO <span class="pp">[</span><span class="ss">thread04</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:59.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:04.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:09.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:13.751 INFO <span class="pp">[</span><span class="ss">thread05</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:13.752 INFO <span class="pp">[</span><span class="ss">thread00</span><span class="pp">]</span> <span class="at">-</span> Maintaining for 2 minutes <span class="er">(</span><span class="ex">120000</span> ms<span class="kw">)</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:14.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:19.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 5, Failed: 0, Done: 0</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:24.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 5, Failed: 0, Done: 0</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="ex">...</span></span></code></pre></div>
<p><code>shinycannon</code> includes detailed help documentation
explaining the other arguments:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">shinycannon</span> <span class="at">-h</span></span></code></pre></div>
<p>During the test, <code>shinycannon</code> reports the progress and
number of simulated users. The result of the test is an output directory
(<code>run1</code> in the example above) which includes timing
information for each session. Inside that directory you’ll find:</p>
<ul>
<li>
<code>recording.log</code>: a copy of the original recording
used.</li>
<li>
<code>detail.log</code>: log output, to help debug errors.</li>
<li>
<code>./sessions/*.csv</code>: one file for each simulated user
session.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Barret Schloerke, Alan Dipert, Barbara Borges, Posit Software, PBC.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '993bbaa8141e65ce07013c0f54fc3277',
    indexName: 'shinyloadtest',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
