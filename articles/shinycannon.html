<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Installing and running shinycannon • shinyloadtest</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Installing and running shinycannon">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinyloadtest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/shinycannon.html">Installing and running shinycannon</a></li>
    <li><a class="dropdown-item" href="../articles/analyzing-load-test-logs.html">Analyzing results</a></li>
    <li><a class="dropdown-item" href="../articles/case-study-scaling.html">Case study: Scaling an app</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced</h6></li>
    <li><a class="dropdown-item" href="../articles/limitations-of-shinyloadtest.html">Limitations of shinyloadtest</a></li>
    <li><a class="dropdown-item" href="../articles/load-testing-authenticated-apps.html">Load Testing Authenticated Apps</a></li>
    <li><a class="dropdown-item" href="../articles/troubleshooting-ssl.html">Troubleshooting SSL</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/shinyloadtest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Installing and running shinycannon</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/shinyloadtest/blob/rc-v1.2.1/vignettes/shinycannon.Rmd" class="external-link"><code>vignettes/shinycannon.Rmd</code></a></small>
      <div class="d-none name"><code>shinycannon.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/shinyloadtest/">shinyloadtest</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>shinycannon</code> requires custom installation that differs
from platform to platform.</p>
<div class="section level3">
<h3 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h3>
<p>Depending on your distribution, <code>shinycannon</code> can be
installed using one of the following packages.</p>
<table class="table">
<colgroup>
<col width="7%">
<col width="60%">
<col width="32%">
</colgroup>
<thead><tr class="header">
<th align="left">Distribution</th>
<th align="left">Download Link</th>
<th align="left">Install Command</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">SUSE</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-suse-85f280d.x86_64.rpm" class="external-link">shinycannon-1.2.0-suse-85f280d.x86_64.rpm</a></td>
<td align="left"><code>zypper —-no-gpg-checks install -y
shinycannon-1.2.0-suse-85f280d.x86_64.rpm</code></td>
</tr>
<tr class="even">
<td align="left">Redhat/Fedora/CentOS</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.x86_64.rpm" class="external-link">shinycannon-1.2.0-85f280d.x86_64.rpm</a></td>
<td align="left"><code>sudo yum install -y
shinycannon-1.2.0-85f280d.x86_64.rpm</code></td>
</tr>
<tr class="odd">
<td align="left">Ubuntu/Debian</td>
<td align="left"><a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon_1.2.0-85f280d_amd64.deb" class="external-link">shinycannon_1.2.0-85f280d_amd64.deb</a></td>
<td align="left"><code>sudo dpkg -i
shinycannon_1.2.0-85f280d_amd64.deb</code></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="macos">macOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Install <a href="https://www.java.com/en/download/" class="external-link">Java</a>
</li>
<li>Download
<a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.sh" class="external-link">shinycannon-1.2.0-85f280d.sh</a>
</li>
<li>Install with
<code>sudo cp shinycannon-1.2.0-85f280d.sh /usr/local/bin/shinycannon; sudo chmod +x /usr/local/bin/shinycannon</code>
</li>
<li>Run <code>shinycannon -h</code> to see help output, or
<code>shinycannon [RECORDING-PATH] [APP-URL]</code> to generate
load.</li>
</ol>
</div>
<div class="section level3">
<h3 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Install <a href="https://www.java.com/en/download/" class="external-link">Java</a>
</li>
<li>Download
<a href="https://github.com/rstudio/shinycannon/releases/download/v1.2.0-alpha/shinycannon-1.2.0-85f280d.jar" class="external-link">shinycannon-1.2.0-85f280d.jar</a>
to the directory you wish to run it in</li>
<li>Run <code>java -jar shinycannon-1.2.0-85f280d.jar -h</code> to see
help output, or
<code>java -jar shinycannon-1.2.0-85f280d.jar [RECORDING-PATH] [APP-URL]</code>
to generate load.</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="recording">Recording<a class="anchor" aria-label="anchor" href="#recording"></a>
</h2>
<p><code>shinycannon</code> accepts two required positional
arguments:</p>
<ol style="list-style-type: decimal">
<li>
<strong>[RECORDING-PATH]</strong>: path to the file produced by
<code><a href="../reference/record_session.html">shinyloadtest::record_session</a></code>
</li>
<li>
<strong>[APP-URL]</strong>: URL of the target Shiny application</li>
</ol>
<p>In addition to these two required arguments, <code>shinycannon</code>
accepts a number of optional arguments that can be specified with flags.
Of these, the most interesting are:</p>
<ol style="list-style-type: decimal">
<li>
<code>--workers</code>: The number of concurrent users to simulate.
<code>shinycannon</code> uses threads to represent each user. It
defaults to 1.</li>
<li>
<code>--loaded-duration-minutes</code>: The duration of the load
test, in minutes. This does not include “warmup time”, which is the time
shinycannon spends gradually increasing the number of workers, or
“cooldown time”, which is the time spent decreasing the number of
workers. It defaults to 0, meaning that after all workers have “warmed
up”, they will immediately begin to “cool down”. Generally, you’ll want
to set this to a duration greater than 0. <code>shinycannon</code> will
re-run the recording as necessary to fill the time.</li>
<li>
<code>--output-dir</code>: Name of the directory to create and store
timing information in.</li>
</ol>
<p>As an example, to run a load test simulating 5 concurrent users for
at least 2 minutes, outputting to the directory <code>run1</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> shinycannon recording.log https://shinyapp.example.com/ <span class="at">--workers</span> 5 <span class="at">--loaded-duration-minutes</span> 2 <span class="at">--output-dir</span> run1</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.191 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 0, Failed: 0, Done: 0</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.193 INFO <span class="pp">[</span><span class="ss">thread01</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:14.195 INFO <span class="pp">[</span><span class="ss">thread00</span><span class="pp">]</span> <span class="at">-</span> Waiting for warmup to complete</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:19.193 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:24.194 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:29.083 INFO <span class="pp">[</span><span class="ss">thread02</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:29.195 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 1, Failed: 0, Done: 0</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:34.195 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:39.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:43.973 INFO <span class="pp">[</span><span class="ss">thread03</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:44.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 2, Failed: 0, Done: 0</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:49.196 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:54.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:58.862 INFO <span class="pp">[</span><span class="ss">thread04</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:06:59.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 3, Failed: 0, Done: 0</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:04.201 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:09.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:13.751 INFO <span class="pp">[</span><span class="ss">thread05</span><span class="pp">]</span> <span class="at">-</span> Warming up</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:13.752 INFO <span class="pp">[</span><span class="ss">thread00</span><span class="pp">]</span> <span class="at">-</span> Maintaining for 2 minutes <span class="er">(</span><span class="ex">120000</span> ms<span class="kw">)</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:14.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 4, Failed: 0, Done: 0</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:19.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 5, Failed: 0, Done: 0</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="ex">2018-08-29</span> 15:07:24.202 INFO <span class="pp">[</span><span class="ss">progress</span><span class="pp">]</span> <span class="at">-</span> Running: 5, Failed: 0, Done: 0</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="ex">...</span></span></code></pre></div>
<p><code>shinycannon</code> includes detailed help documentation
explaining the other arguments:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">shinycannon</span> <span class="at">-h</span></span></code></pre></div>
<p>During the test, <code>shinycannon</code> reports the progress and
number of simulated users. The result of the test is an output directory
(<code>run1</code> in the example above) which includes timing
information for each session. Inside that directory you’ll find:</p>
<ul>
<li>
<code>recording.log</code>: a copy of the original recording
used.</li>
<li>
<code>detail.log</code>: log output, to help debug errors.</li>
<li>
<code>./sessions/*.csv</code>: one file for each simulated user
session.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, Alan Dipert, Barbara Borges, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer>
</body>
</html>
