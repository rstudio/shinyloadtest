<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Load Test Shiny Applications • shinyloadtest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Load Test Shiny Applications">
<meta property="og:description" content="Assesses the number of concurrent users shiny
  applications are capable of supporting, and for directing application changes
  in order to support a higher number of users. Provides facilities for recording
  shiny application sessions, playing recorded sessions against a target
  server at load, and analyzing the resulting metrics.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">shinyloadtest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/shinycannon.html">Installing and running shinycannon</a>
    </li>
    <li>
      <a href="articles/analyzing-load-test-logs.html">Analyzing results</a>
    </li>
    <li>
      <a href="articles/case-study-scaling.html">Case study: Scaling an app</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced</li>
    <li>
      <a href="articles/limitations-of-shinyloadtest.html">Limitations of shinyloadtest</a>
    </li>
    <li>
      <a href="articles/load-testing-authenticated-apps.html">Load Testing Authenticated Apps</a>
    </li>
    <li>
      <a href="articles/troubleshooting-ssl.html">Troubleshooting SSL</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/shinyloadtest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="load-testing-shiny-applications">Load Testing Shiny Applications<a class="anchor" aria-label="anchor" href="#load-testing-shiny-applications"></a>
</h1></div>
<!-- badges: start -->
<p>The <a href="https://rstudio.github.io/shinyloadtest/"><code>shinyloadtest</code> package</a> and the accompanying <a href="https://github.com/rstudio/shinycannon" class="external-link"><code>shinycannon</code></a> command line tool make it possible to <strong>load test</strong> deployed Shiny apps. Load testing helps developers and administrators estimate how many users their application can support. If an application requires tuning, load testing and load test result analysis can be used to identify performance bottlenecks and to guide changes to infrastructure, configuration, or code.</p>
<p>Scientific load testing helps put to rest the common misconception that <strong>"</strong>Shiny doesn’t scale". As rstudio::conf(2018) Sean Lopp presented on <a href="https://rstudio.com/resources/rstudioconf-2018/scaling-shiny/" class="external-link">Scaling Shiny</a> which shows how to to horizontally scale an app to handle tens of thousands of users.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To perform a load test you’ll need two pieces of software:</p>
<ul>
<li>
<code>shinyloadtest</code> is an R package used to generate recordings and analyze results. You should install it on your development machine with <code>install.packages("shinyloadtest")</code>.</li>
<li>
<code>shinycannon</code> is a command-line used to replay recordings in parallel. You can install it on your development machine for testing, but for best results we recommend installing it on a server, and preferably not the one the application under test is also on. See <a href="https://rstudio.github.io/shinyloadtest/articles/shinycannon.html#installation">installation instructions</a> for operating specific install instructions..</li>
</ul>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>The process for load testing a Shiny application consists of three steps:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Record</strong> a typical user session for the app.</li>
<li>
<strong>Replay</strong> the session in parallel, simulating many simultaneous users accessing the app.</li>
<li>
<strong>Analyze</strong> the results of the load test and determine if the app performed well enough.</li>
</ol>
<p>Rinse and repeat as necessary. Each step is described below.</p>
<div class="section level3">
<h3 id="step-1-recording">Step 1: Recording<a class="anchor" aria-label="anchor" href="#step-1-recording"></a>
</h3>
<p>Record a session using <code><a href="reference/record_session.html">shinyloadtest::record_session()</a></code>, which takes the URL of the <strong>deployed</strong> application as an argument:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">shinyloadtest</span><span class="fu">::</span><span class="fu"><a href="reference/record_session.html">record_session</a></span><span class="op">(</span><span class="st">'https://shinyapp.example.com/'</span><span class="op">)</span></span></code></pre></div>
<p>Running the function will open a browser displaying the app. Once open, interact with the application as a typical user might then close the browser. After closing the app, a file (<code>recording.log</code> by default) will be created that contains a recording of the session. This recording will serve as the basis for the load test.</p>
<p>If your application requires authentication, consult the <a href="https://rstudio.github.io/shinyloadtest/articles/load-testing-authenticated-apps.html">authentication article</a>. Also be aware that <a href="https://rstudio.github.io/shinyloadtest/articles/limitations-of-shinyloadtest.html">certain Shiny features</a> are not compatible with shinyloadtest.</p>
</div>
<div class="section level3">
<h3 id="step-2-run-the-load-test">Step 2: Run the Load Test<a class="anchor" aria-label="anchor" href="#step-2-run-the-load-test"></a>
</h3>
<p>With the recording in hand, we’re ready to run the load test. The actual test is conducted outside of R using the <code>shinycannon</code> command-line tool. You can run it using your system’s terminal or console program, or you can run it from the RStudio terminal tab. A typical run looks like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>shinycannon recording.log https<span class="op">:</span><span class="er">//</span>shinyapp.example.com<span class="op">/</span><span class="st"> </span><span class="op">--</span>workers <span class="dv">5</span> <span class="op">--</span>loaded<span class="op">-</span>duration<span class="op">-</span>minutes <span class="dv">2</span> <span class="op">--</span>output<span class="op">-</span>dir run1</span></code></pre></div>
<p>See <a href="https://rstudio.github.io/shinyloadtest/articles/shinycannon.html#recording">the shinycannon article</a> for details.</p>
</div>
<div class="section level3">
<h3 id="step-3-analyze-the-results">Step 3: Analyze the Results<a class="anchor" aria-label="anchor" href="#step-3-analyze-the-results"></a>
</h3>
<p>Now we can analyse our results by reading the data into <code><a href="reference/load_runs.html">shinyloadtest::load_runs()</a></code> and create a report with <code><a href="reference/shinyloadtest_report.html">shinyloadtest_report()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">shinyloadtest</span><span class="fu">::</span><span class="fu"><a href="reference/load_runs.html">load_runs</a></span><span class="op">(</span><span class="st">"run1"</span><span class="op">)</span></span>
<span><span class="fu">shinyloadtest</span><span class="fu">::</span><span class="fu"><a href="reference/shinyloadtest_report.html">shinyloadtest_report</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"run1.html"</span><span class="op">)</span></span></code></pre></div>
<p>This self contained html report will be opened in your browser for inspection. For further analysis explanation, please visit <a href="https://rstudio.github.io/shinyloadtest/articles/analyzing-load-test-logs.html">Analysing load test logs</a>.</p>
<div class="figure">
<img src="reference/figures/slt_report_screenshot.png" alt=""><p class="caption">Analysis Example</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=shinyloadtest" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rstudio/shinyloadtest/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rstudio/shinyloadtest/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shinyloadtest</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Barret Schloerke <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9986-114X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Alan Dipert <br><small class="roles"> Author </small>  </li>
<li>Barbara Borges <br><small class="roles"> Author </small>  </li>
<li>RStudio <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Barret Schloerke, Alan Dipert, Barbara Borges, RStudio.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '993bbaa8141e65ce07013c0f54fc3277',
    indexName: 'shinyloadtest',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
